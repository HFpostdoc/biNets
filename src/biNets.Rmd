---
title: "Bipartite Networks"
subtitle: "Structural Analyses"
author: "M.K. Lau (Harvard Forest, Harvard University)"
date:
output: ioslides_presentation
fig_caption: yes

---

## Bipartite Networks

- What are they?
- What are they good for?
- How do I use them?


## Bipartite Networks: What are they?

*Definition:* a network in which has two sets of nodes with edges
 between and not within sets.

## Bipartite Networks: What are they?

```{r fig.width=7,fig.height=7,echo=FALSE,results='hide',fig.align='center'}
img <- readPNG('../images/nest.png')
grid.raster(img)

```

## Bipartite Networks: What are they?

```{r fig.width=5,fig.height=5,echo=FALSE,results='hide',fig.align='center'}
img <- readPNG('../images/pollin.png')
grid.raster(img)

```


## Bipartite Networks: What are they?

```{r fig.width=7,fig.height=7,echo=FALSE,results='hide',fig.align='center'}
img <- readPNG('../images/memmott.png')
grid.raster(img)

```


## Bipartite Networks: What are they?

```{r fig.width=5,fig.height=5,echo=FALSE,results='hide',fig.align='center'}
require(png)
img <- readPNG('../images/batRoost.png')
grid.raster(img)

```



## mangal
```{r fig.width=5,fig.height=5,echo=FALSE,results='hide',fig.align='center'}
img <- readPNG('../images/mangal.png')
grid.raster(img)

```

http://mangal.uqar.ca/doc/spec/

http://biorxiv.org/content/biorxiv/early/2015/02/24/002634.full.pdf

## Bipartite Networks: What are they good for?

> - Simplification (= ignore interactions within sets)
> - Stability Theory 
> - Limitations

## Bipartite Networks: Limitations

```{r fig.width=5,fig.height=5,echo=FALSE,results='hide',fig.align='center'}
img <- readPNG('../images/tri.png')
grid.raster(img)

```

## Bipartite Networks: How do I use them?

Can you represent your network as two distinct sets?

## Bipartite Networks: How do I use them?

**bipartite**

## "Hello, R!"

> - Open-source
> - Free!
> - "Easy/Lazy" programming language

## "Hello, R!"

> - Packages
> - CRAN
> - GitHub

## "Hello, R!"

```{r }
2+2

```

## "Hello, R!"


```{r }
four = 2 + 2

```

## "Hello, R!"


```{r }
four = 2 + 2

print(four)

```

## "Hello, bipartite!"


```{r }
library(bipartite)

```

## bipartite: models

Import/Load models using read.csv

**people.fas.harvard.edu/~matthewklau/bipmodel.csv**

## bipartite: models


<!-- ```{r } -->
<!-- data(vazarr) -->
<!-- write.csv(vazarr,file='../data/bipmodel.csv') -->

<!-- ``` -->


```{r }
our.binet <- read.csv('../data/bipmodel.csv')

```


## bipartite: nestedness

```{r fig.width=5,fig.height=5,echo=FALSE,results='hide',fig.align='center'}
img <- readPNG('../images/nest.png')
grid.raster(img)

```

## bipartite: nestedness


```{r eval=FALSE}
binet.nest <- nestedness(our.binet,null.models=FALSE)
names(binet.nest)
binet.nest$temperature

```

## bipartite: nestedness

```{r eval=FALSE}
binet.nest <- nestedness(our.binet,null.models=TRUE,n.nulls=10)

```

## bipartite: nestedness

```{r }
plotweb(our.binet)

```

## bipartite: modularity

```{r fig.width=5,fig.height=5,echo=FALSE,results='hide',fig.align='center'}
img <- readPNG('../images/batroost.png')
grid.raster(img)

```

## bipartite: modularity

```{r eval=FALSE}
binet.mods <- computeModules(our.binet)

```

```{r eval=FALSE}
binet.mods

```

```{r eval=FALSE}
plotModuleWeb(binet.mods)

```

## bipartite: modularity


```{r eval=FALSE}
null.nets <- nullmodel(our.binet, N=3, method="r2d")

```

```{r eval=FALSE}
null.mods <- lapply(null.nets,computeModules)

```

```{r eval=FALSE}
lapply(null.mods,slot,name='likelihood')

```

## What does it all mean?

* Structural analysis with dynamic implications
* Nestedness minimizes competition and facilitates diversity (Bascompte 2003)
* Modularity stabilizes through compartmentalization (Fortuna 2009)

## Up Next!

Ecosystem networks and *enaR*!

## 

## Connect: the R network world

- *sna*
- *network*
- *statnet*
- *igraph*
- *graphviz*

## Connect: enaR to EcoNet


```{r }
data(oyster)
write.EcoNet(oyster,file='./oyster.txt',mn='ena_model_oyster')

```

